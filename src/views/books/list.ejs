<div class = "page-header">
    <h2>My Books</h2>
    <a href = "/books/add" class = "btn btn-primary">
        <i class = "fas fa-plus"></i> Add Book
    </a>
</div>

<% if (books.length === 0) { %>
 <div class = "empty-state">
    <i class = "fas fa-book"></i>
    <h3>No books yet</h3>
    <p>Start building your library by adding your first book!</p>
    <a href = "/books/add" class = "btn btn-primary">Add Your First Book</a>
 </div>
<% } else { %>
    <div class = "books-grid">
        <% books.forEach(book => { %>
            <div class = "book-card">
                <% if (book.cover_image) { %>
                    <img src = "<%= book.cover_image %>" alt = "<%= book.title %>">
                <% } else { %>
                    <div class = "no-cover">
                        <i class ="fas fa-book"></i>
                    </div>
                <% } %>
            </div>
            <div class = "book-info">
                <h3><%= book.title %></h3>
                <p class = "author"><%= book.author %></p>

                <% if (book.category) { %>
                    <span class = "badge badge-category"><%= book.category %></span>
                <% } %>

                <span class = "badge badge-<%= book.status %>">
                    <%= book.status %>
                </span>

                <% if (book.rating) { %>
                    <div class = "rating">
                        <% for( let i = 0; i <= 5; i++ ) { %>
                            <i class = "fas fa-star <%= i <= book.rating ?'active' : '' %>"></i>
                        <% } %>
                    </div>
                <% } %>
            </div>
            <div class = "book-actions">
                <a href = "/books/<%= book.id %>" class = "btn btn-sm btn-primary">
                    <i class = "fas fa-eye"></i> View
                </a>
                <a href = "/books/edit/<%= book.id %>" class = "btn btn-sm btn-secondary">
                    <i class = "fas fa-eye"></i> Edit
                </a>
            </div>
        <% }) %>   
    </div>